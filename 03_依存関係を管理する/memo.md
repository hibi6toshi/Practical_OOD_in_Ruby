# memo

## オブジェクトが次のものを知っているとき、オブジェクトには依存関係がある

- **他のクラスの名前**
- **self 以外のどこかに送ろうとするメッセージの名前** ( -> これはメソッド名のこと。)
- **メッセージが要求する引数** ( -> Ruby ではデフォルト引数やキーワード引数、可変長引数である程度の変更容易性はあると思う)
- **それら引数の順番**

これらの依存性は Wheel への変更によって、Gear の変更が強制される可能性を高めます。

**設計課題は依存関係を管理し、それぞれのクラスが持つ依存性を最低限にすること**

## オブジェクト間の結合(CBO:Coupling Between Objects)

2 つのオブジェクト(あるいは 3 つかそれ以上)の結合が強固なとき、それらはあたかも 1 つのユニットであるかのように振る舞います。その内から一つだけを再利用するなどということは不可能です。(p.62)

### 依存関係に関連した一般的な問題(p.64)

<dl>
  <dt>メッセージチェーンによる依存。</dt>
  <dd>途中のオブジェクトの変更が、広範囲に影響する可能性がある。</dd>
  <dt>コードに対するテストの依存</dt>
  <dd>テストはコードを参照するがゆえに、コードに依存する。<br><strong>コードに依存しすぎたテストでは、コードをリファクタリングするたびに、テストが壊れます。</strong></dd>
</dl>

もし不必要な依存性を排除できないなら、クラス内で隔離すべきです。

### 外部的な依存を取り除き、専用のメソッド内にカプセル化すること。(p.70)

→ 外部へ参照するものを、一連の手続きに潜り込ませない。それ単独のメソッドを作り、それをよぶ。これは重要だが今まで意識できていなかったと思う。
